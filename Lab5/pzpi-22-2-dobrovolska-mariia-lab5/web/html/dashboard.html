<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–∞—à–±–æ—Ä–¥ - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω–∫—É–±–∞—Ç–æ—Ä–æ–º</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar-brand">
            <span class="logo">üê£</span> Chicken Incubator
        </div>
        <ul class="navbar-nav">
            <li><a href="/html/dashboard.html" class="nav-link active">–ì–æ–ª–æ–≤–Ω–∞</a></li>
            <li><a href="/html/devices.html" class="nav-link">–ü—Ä–∏—Å—Ç—Ä–æ—ó</a></li>
            <li><a href="/html/alerts.html" class="nav-link">–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è</a></li>
            <li><a href="/html/sensor-data.html" class="nav-link">–î–∞–Ω—ñ —Å–µ–Ω—Å–æ—Ä—ñ–≤</a></li>
            <li id="adminPanelLink" style="display: none;"><a href="/html/admin.html" class="nav-link">–ü–∞–Ω–µ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</a></li>
        </ul>
        <div class="navbar-user">
            <div class="dropdown">
                <span id="userDropdownTrigger" class="dropdown-trigger">
                    <span id="userNameNav"></span> (<span id="userRoleNav"></span>)
                </span>
                <div class="dropdown-content" id="userDropdown">
                    <a href="/html/profile.html">–ü—Ä–æ—Ñ—ñ–ª—å</a>
                    <a href="#" id="logoutBtnDropdown">–í–∏—Ö—ñ–¥</a>
                </div>
            </div>
            <button id="logoutBtn" class="btn btn-sm secondary-btn hide-on-mobile" style="display: none;">–í–∏—Ö—ñ–¥</button>
        </div>
    </nav>

    <div class="container">


        <div class="card mb-20">
            <h2>–û–≥–ª—è–¥ —Å–∏—Å—Ç–µ–º–∏</h2>
            <div class="summary-grid">
                <div class="summary-card">
                    <h3>–ü—Ä–∏—Å—Ç—Ä–æ—ó–≤ –æ–Ω–ª–∞–π–Ω</h3>
                    <p id="onlineDevicesCount">0 / 0</p> </div>
                <div class="summary-card">
                    <h3>–ê–∫—Ç–∏–≤–Ω–∏—Ö —Å–ø–æ–≤—ñ—â–µ–Ω—å</h3>
                    <p id="activeAlertsCount">0</p>
                </div>
                <div class="summary-card">
                    <h3>–û—Å—Ç–∞–Ω–Ω–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</h3>
                    <p id="avgTemperature">N/A</p>
                </div>
                <div class="summary-card">
                    <h3>–û—Å—Ç–∞–Ω–Ω–Ω—è –≤–æ–ª–æ–≥—ñ—Å—Ç—å</h3>
                    <p id="avgHumidity">N/A</p>
                </div>
                <div class="summary-card"> <h3>–û—Å—Ç–∞–Ω–Ω—ñ–π —Ä—ñ–≤–µ–Ω—å –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è</h3>
                    <p id="avgLightLevel">N/A</p>
                </div>
            </div>
        </div>

        <div class="card mb-20">
            <h2>–î–∞–Ω—ñ –ø—Ä–∏—Å—Ç—Ä–æ—é –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ 24 –≥–æ–¥–∏–Ω–∏</h2>
            <div class="chart-controls">
                <label for="deviceSelect">–í–∏–±–µ—Ä—ñ—Ç—å –ø—Ä–∏—Å—Ç—Ä—ñ–π:</label>
                <select id="deviceSelect">
                    <option value="">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤...</option>
                </select>
            </div>
            <div class="chart-canvas-wrapper">
                 <canvas id="sensorDataChart"></canvas>
            </div>
        </div>

        <div class="card mb-20">
            <h2>–®–≤–∏–¥–∫—ñ –¥—ñ—ó</h2>
            <div class="quick-actions-grid">
                 <button class="btn primary-btn" id="turnEggsBtn">–ü–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–∏ —è–π—Ü—è</button>
                 <button class="btn primary-btn" id="enableAutoModeBtn">–í–∫–ª—é—á–∏—Ç–∏ –∞–≤—Ç–æ—Ä–µ–∂–∏–º</button>
                 <button class="btn secondary-btn" id="disableAutoModeBtn">–í–∏–∫–ª—é—á–∏—Ç–∏ –∞–≤—Ç–æ—Ä–µ–∂–∏–º</button>
                 <button class="btn danger-btn" id="emergencyStopBtn">–ê–≤–∞—Ä—ñ–π–Ω–∞ –∑—É–ø–∏–Ω–∫–∞</button>
            </div>
             <p class="mt-10">–í–∏–±–µ—Ä—ñ—Ç—å –ø—Ä–∏—Å—Ç—Ä—ñ–π –¥–ª—è –¥—ñ–π: 
                <select id="actionDeviceSelect">
                    <option value="">–í–∏–±–µ—Ä—ñ—Ç—å –ø—Ä–∏—Å—Ç—Ä—ñ–π...</option>
                </select>
            </p>
            <div id="quickActionMessage" class="message-area mt-10"></div>

            <h3 class="mt-20">–°–ø–µ—Ü—ñ–∞–ª—å–Ω–∞ –∫–æ–º–∞–Ω–¥–∞</h3>
            <div class="input-group">
                <label for="customCommandSelect">–í–∏–±–µ—Ä—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É:</label>
                <select id="customCommandSelect" class="form-control">
                    <option value="">-- –ö–æ–º–∞–Ω–¥–∞ --</option>
                    <option value="heater_on">–£–≤—ñ–º–∫–Ω—É—Ç–∏ –æ–±—ñ–≥—Ä—ñ–≤–∞—á</option>
                    <option value="heater_off">–í–∏–º–∫–Ω—É—Ç–∏ –æ–±—ñ–≥—Ä—ñ–≤–∞—á</option>
                    <option value="humidifier_on">–£–≤—ñ–º–∫–Ω—É—Ç–∏ –∑–≤–æ–ª–æ–∂—É–≤–∞—á</option>
                    <option value="humidifier_off">–í–∏–º–∫–Ω—É—Ç–∏ –∑–≤–æ–ª–æ–∂—É–≤–∞—á</option>
                </select>
            </div>
            <button class="btn primary-btn" id="sendCustomCommandBtn" style="width: auto; margin-top: 10px;">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –∫–æ–º–∞–Ω–¥—É</button>
        </div>


        <div class="card mt-20">
            <h2>–í–∞—à—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó</h2>
            <div id="deviceList" class="device-list">
                <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø—Ä–æ –ø—Ä–∏—Å—Ç—Ä–æ—ó...</p>
            </div>
        </div>
        <div class="card mt-20">
            <h2>–û—Å—Ç–∞–Ω–Ω—ñ –¥–∞–Ω—ñ –∑ –¥–∞—Ç—á–∏–∫—ñ–≤</h2>
            <div id="latestSensorData" class="sensor-data-grid">
                <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –¥–∞–Ω–∏—Ö...</p>
            </div>
        </div>
        <div class="card mt-20">
            <h2>–ù–µ—Ä–æ–∑–≤'—è–∑–∞–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è</h2>
            <div id="unresolvedAlerts" class="alert-list">
                <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–ø–æ–≤—ñ—â–µ–Ω—å...</p>
            </div>
        </div>
    </div>

    <script src="/js/dashboard.js"></script>
</body>
</html>