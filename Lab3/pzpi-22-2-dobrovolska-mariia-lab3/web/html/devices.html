<!DOCTYPE html>
<html lang="uk"> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ—ó –ø—Ä–∏—Å—Ç—Ä–æ—ó - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —ñ–Ω–∫—É–±–∞—Ç–æ—Ä–æ–º</title> 
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navbar-brand">
            <span class="logo">üê£</span> Chicken Incubator
        </div>
        <ul class="navbar-nav">
            <li><a href="/html/dashboard.html" class="nav-link">–ì–æ–ª–æ–≤–Ω–∞</a></li> 
            <li><a href="/html/devices.html" class="nav-link active">–ü—Ä–∏—Å—Ç—Ä–æ—ó</a></li> 
            <li><a href="/html/alerts.html" class="nav-link">–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è</a></li>
            <li><a href="/html/sensor-data.html" class="nav-link">–î–∞–Ω—ñ —Å–µ–Ω—Å–æ—Ä—ñ–≤</a></li>
            <li id="adminPanelLink" style="display: none;"><a href="/html/admin.html" class="nav-link">–ü–∞–Ω–µ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</a></li>
        </ul>
        <div class="navbar-user">
            <div class="dropdown">
                <span id="userDropdownTrigger" class="dropdown-trigger">
                    –í—ñ—Ç–∞—î–º–æ, <span id="userNameNav"></span> (<span id="userRoleNav"></span>)
                </span>
                <div class="dropdown-content" id="userDropdown">
                    <a href="/html/profile.html">–ü—Ä–æ—Ñ—ñ–ª—å</a>
                    <a href="#" id="logoutBtnDropdown">–í–∏—Ö—ñ–¥</a>
                </div>
            </div>
            <button id="logoutBtn" class="btn btn-sm secondary-btn hide-on-mobile" style="display: none;">–í–∏—Ö—ñ–¥</button>
        </div>
    </nav>

    <div class="container">
        <div class="content-header">
            <h1>–ú–æ—ó –ø—Ä–∏—Å—Ç—Ä–æ—ó</h1> 
        </div>

        <div id="deviceListSection" class="card">
            <div class="add-device-btn-container">
                <button class="btn primary-btn add-device-btn" id="addDeviceBtn">–î–æ–¥–∞—Ç–∏ –ø—Ä–∏—Å—Ç—Ä—ñ–π</button>
            </div>
            <div class="table-filters">
                <label for="statusFilter">–°—Ç–∞—Ç—É—Å:</label>
                <select id="statusFilter">
                    <option value="">–í—Å—ñ</option> 
                    <option value="online">–û–Ω–ª–∞–π–Ω</option>
                    <option value="offline">–û—Ñ–ª–∞–π–Ω</option>
                    <option value="error">–ü–æ–º–∏–ª–∫–∞</option> 
                </select>
                <label for="searchDevice">–ü–æ—à—É–∫:</label> 
                <input type="text" id="searchDevice" placeholder="–ü–æ—à—É–∫ –∑–∞ –Ω–∞–∑–≤–æ—é/ID"> 
            </div>
            <table class="device-table">
                <thead>
                    <tr>
                        <th>–ù–∞–∑–≤–∞</th> 
                        <th>ID –ø—Ä–∏—Å—Ç—Ä–æ—é</th>
                        <th>–¢–∏–ø</th>
                        <th>–°—Ç–∞—Ç—É—Å</th>
                        <th>–õ–æ–∫–∞—Ü—ñ—è</th> 
                        <th>–î—ñ—ó</th> 
                    </tr>
                </thead>
                <tbody id="devicesTableBody">
                    <tr><td colspan="6">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤...</td></tr> 
                </tbody>
            </table>
        </div>

        <div id="deviceDetailsSection" class="card mt-20" style="display: none;">
            <button class="btn secondary-btn" id="backToDevicesListBtn">‚Üê –ù–∞–∑–∞–¥ –¥–æ —Å–ø–∏—Å–∫—É</button> 
            <h2 id="detailDeviceName"></h2>

            <div class="device-detail-grid">
                <div class="card">
                    <h3>–ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h3> 
                    <p><strong>ID –ø—Ä–∏—Å—Ç—Ä–æ—é:</strong> <span id="detailDeviceId"></span></p>
                    <p><strong>–¢–∏–ø:</strong> <span id="detailDeviceType"></span></p>
                    <p><strong>–°—Ç–∞—Ç—É—Å:</strong> <span id="detailDeviceStatus"></span></p>
                    <p><strong>–õ–æ–∫–∞—Ü—ñ—è:</strong> <span id="detailDeviceLocation"></span></p> 
                    <p><strong>–û—Å—Ç–∞–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å:</strong> <span id="detailLastSeen"></span></p> 
                    <p><strong>–ü—Ä–æ—à–∏–≤–∫–∞:</strong> <span id="detailFirmware"></span></p>
                </div>

                <div class="card">
                    <h3>–û—Å—Ç–∞–Ω–Ω—ñ –¥–∞–Ω—ñ —Å–µ–Ω—Å–æ—Ä—ñ–≤</h3>
                    <p><strong>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:</strong> <span id="detailTemperature">N/A</span></p>
                    <p><strong>–í–æ–ª–æ–≥—ñ—Å—Ç—å:</strong> <span id="detailHumidity">N/A</span></p> 
                    <p><strong>–û—Å–≤—ñ—Ç–ª–µ–Ω—ñ—Å—Ç—å:</strong> <span id="detailLightLevel">N/A</span></p> 
                    <p><strong>–¶—ñ–ª—å–æ–≤–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:</strong> <span id="detailTargetTemperature">N/A</span></p> 
                    <p><strong>–¶—ñ–ª—å–æ–≤–∞ –≤–æ–ª–æ–≥—ñ—Å—Ç—å:</strong> <span id="detailTargetHumidity">N/A</span></p> 
                    <p><strong>–†–µ–∂–∏–º:</strong> <span id="detailAutoMode">N/A</span></p>
                    <p><strong>–ù–∞–≥—Ä—ñ–≤–∞—á:</strong> <span id="detailHeater">N/A</span></p> 
                    <p><strong>–ó–≤–æ–ª–æ–∂—É–≤–∞—á:</strong> <span id="detailHumidifier">N/A</span></p> 
                    <p><strong>–í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä:</strong> <span id="detailFan">N/A</span></p>
                    <p><strong>–ü–æ–≤–æ—Ä–æ—Ç —è—î—Ü—å:</strong> <span id="detailTurner">N/A</span></p> 
                </div>
            </div>

            <div class="card mt-20">
                <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–∏—Å—Ç—Ä–æ—é</h3>
                <p><strong>–î–Ω—ñ–≤ —É —Ä–æ–±–æ—Ç—ñ:</strong> <span id="statDeviceAge">N/A</span></p> 
                <p><strong>–í—ñ–¥—Å–æ—Ç–æ–∫ —á–∞—Å—É –æ–Ω–ª–∞–π–Ω (24–≥–æ–¥):</strong> <span id="statUptimePercentage">N/A</span></p> 
                <p><strong>–°–µ—Ä–µ–¥–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (24–≥–æ–¥):</strong> <span id="statAvgTemperature">N/A</span></p> 
                <p><strong>–°–µ—Ä–µ–¥–Ω—è –≤–æ–ª–æ–≥—ñ—Å—Ç—å (24–≥–æ–¥):</strong> <span id="statAvgHumidity">N/A</span></p> 
                <p><strong>–°–ø–æ–≤—ñ—â–µ–Ω—å –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ–π —Ç–∏–∂–¥–µ–Ω—å:</strong> <span id="statAlertsLastWeek">N/A</span></p> 
                <p><strong>–ù–µ–≤–∏—Ä—ñ—à–µ–Ω–∏—Ö —Å–ø–æ–≤—ñ—â–µ–Ω—å:</strong> <span id="statUnresolvedAlerts">N/A</span></p> 
            </div>

            <div class="card mt-20">
                <h3>–ì—Ä–∞—Ñ—ñ–∫ –¥–∞–Ω–∏—Ö –∑–∞ –≤–∏–±—Ä–∞–Ω–∏–π –ø–µ—Ä—ñ–æ–¥</h3>
                <div class="chart-controls">
                    <label for="chartPeriodSelect">–ü–µ—Ä—ñ–æ–¥:</label> 
                    <select id="chartPeriodSelect">
                        <option value="hourly">–û—Å—Ç–∞–Ω–Ω—ñ 24 –≥–æ–¥–∏–Ω–∏ (–ø–æ–≥–æ–¥–∏–Ω–Ω–æ)</option> 
                        <option value="daily">–û—Å—Ç–∞–Ω–Ω—ñ 7 –¥–Ω—ñ–≤ (—â–æ–¥–µ–Ω–Ω–æ)</option> 
                        <option value="weekly">–û—Å—Ç–∞–Ω–Ω—ñ 30 –¥–Ω—ñ–≤ (—â–æ—Ç–∏–∂–Ω–µ–≤–æ)</option> 
                    </select>
                </div>
                <div class="chart-canvas-wrapper">
                    <canvas id="deviceDetailChart"></canvas>
                </div>
            </div>

            <div class="card mt-20">
                <h3>–ö–µ—Ä—É–≤–∞–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏</h3> 
                <form id="updateDeviceForm">
                    <div class="input-group">
                        <label for="editDeviceName">–ù–∞–∑–≤–∞ –ø—Ä–∏—Å—Ç—Ä–æ—é</label> 
                        <input type="text" id="editDeviceName" required>
                    </div>
                    <div class="input-group">
                        <label for="editDeviceLocation">–õ–æ–∫–∞—Ü—ñ—è</label> 
                        <input type="text" id="editDeviceLocation">
                    </div>
                    <div class="input-group">
                        <label for="targetTempInput">–¶—ñ–ª—å–æ–≤–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (¬∞C)</label> 
                        <input type="number" step="0.1" id="targetTempInput" min="30" max="45">
                    </div>
                    <div class="input-group">
                        <label for="targetHumInput">–¶—ñ–ª—å–æ–≤–∞ –≤–æ–ª–æ–≥—ñ—Å—Ç—å (%)</label> 
                        <input type="number" step="0.1" id="targetHumInput" min="30" max="80">
                    </div>
                    <div class="input-group checkbox-group">
                        <input type="checkbox" id="autoModeCheckbox">
                        <label for="autoModeCheckbox">–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–∂–∏–º</label> 
                    </div>
                    <div class="input-group checkbox-group">
                        <input type="checkbox" id="turningEnabledCheckbox">
                        <label for="turningEnabledCheckbox">–ü–æ–≤–æ—Ä–æ—Ç —è—î—Ü—å —É–≤—ñ–º–∫–Ω–µ–Ω–æ</label> 
                    </div>
                    <button type="submit" class="btn primary-btn">–ó–±–µ—Ä–µ–≥—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</button> 
                </form>
                <div id="deviceUpdateMessage" class="message-area mt-10"></div>
            </div>

            <div class="card mt-20">
                <h3>–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É</h3> 
                <form id="sendCommandForm">
                    <div class="input-group">
                        <label for="commandSelect">–û–±—Ä–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É:</label> 
                        <select id="commandSelect">
                            <option value="">-- –û–±–µ—Ä—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É --</option> 
                            <option value="turn_eggs">–ü–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–∏ —è–π—Ü—è</option>
                            <option value="auto_mode_on">–£–≤—ñ–º–∫–Ω—É—Ç–∏ –∞–≤—Ç–æ—Ä–µ–∂–∏–º</option>
                            <option value="auto_mode_off">–í–∏–º–∫–Ω—É—Ç–∏ –∞–≤—Ç–æ—Ä–µ–∂–∏–º</option>
                            <option value="heater_on">–£–≤—ñ–º–∫–Ω—É—Ç–∏ –Ω–∞–≥—Ä—ñ–≤–∞—á</option> 
                            <option value="heater_off">–í–∏–º–∫–Ω—É—Ç–∏ –Ω–∞–≥—Ä—ñ–≤–∞—á</option> 
                            <option value="humidifier_on">–£–≤—ñ–º–∫–Ω—É—Ç–∏ –∑–≤–æ–ª–æ–∂—É–≤–∞—á</option> 
                            <option value="humidifier_off">–í–∏–º–∫–Ω—É—Ç–∏ –∑–≤–æ–ª–æ–∂—É–≤–∞—á</option> 
                            <option value="emergency_stop">–ê–≤–∞—Ä—ñ–π–Ω–∞ –∑—É–ø–∏–Ω–∫–∞</option>
                        </select>
                    </div>
                    <button type="submit" class="btn primary-btn">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É</button> 
                <div id="sendCommandMessage" class="message-area mt-10"></div>
            </div>

             <div class="card mt-20">
                <h3>–ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö</h3> 
                <div class="export-data-controls">
                    <label for="exportStartDate">–ó:</label> >
                    <input type="date" id="exportStartDate">
                    <label for="exportEndDate">–ü–æ:</label>
                    <input type="date" id="exportEndDate">
                    <button class="btn primary-btn" id="exportCsvBtn">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ CSV</button>
                </div>
                <div id="exportMessage" class="message-area mt-10"></div>
            </div>

            <div class="card mt-20">
                 <button class="btn danger-btn" id="deleteDeviceBtn">–í–∏–¥–∞–ª–∏—Ç–∏ –ø—Ä–∏—Å—Ç—Ä—ñ–π</button> 
                 <div id="deleteDeviceMessage" class="message-area mt-10"></div>
            </div>

        </div>
    </div>

    <script src="/js/devices.js"></script>
</body>
</html>
